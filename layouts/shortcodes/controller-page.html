{{ range $controller := $.Site.Data.controller }}
{{ if eq .id $.Inner }}
{{ $image := printf "static/images/controller/%s.jpg" .id }}

## Overview

<table class="datatable">
  <colgroup>
    {{ if fileExists $image }}<col class="col-pic">{{ end }}
  <col class="col-headers">
    <col class="col-data">
  </colgroup>
  <tr>
    {{ if fileExists $image }}<td rowspan="0" id="image"><img src='{{ printf "images/controller/%s.jpg" .id | relLangURL }}'/></td>{{ end }}
  <td><strong>Name</strong></td>
    <td>{{ .name }}</td>
  </tr>
  <tr>
    <td><strong>Release date</strong></td>
    <td>{{ .date | time.Format ":date_long" }}</td>
  </tr>
  <tr>
    <td><strong>Serial code</strong></td>
    <td>{{ .code }}</td>
  </tr>
  <tr>
    <td><strong>Notes</strong></td>
    <td>{{ .notes }}</td>
  </tr>
</table>

## Supported software

<table class="compattable">
  <colgroup>
    <col class="col-model">
    <col class="col-support">
    <col class="col-notes">
  </colgroup>
  <tr>
    <th>Software</th>
    <th>Support</th>
    <th>Notes</th>
  </tr>
  {{ range $software := sort $.Site.Data.software "name_en" }}
  {{ range $supported_controller := $software.controllers }}
  {{ if eq $supported_controller.model $controller.id }}
  <tr>
    <td><a href='{{ "software" | relURL }}/{{ $software.id }}'>{{ $software.name_en }}</a></td>
    <td id="{{ if or .unofficial .partial }}partial{{ else }}native{{ end }}">{{ if .unofficial }}Unofficial{{ else if .partial }}Partial{{ else }}Native{{ end }}</td>
    <td>{{ .notes }} {{ if .adapter }}<a href="{{ index $.Site.Data.adapters .adapter "ref" }}">{{ index $.Site.Data.adapters .adapter "notes" }}</a>{{ end }}</td>
  </tr>
  {{ end }}
  {{ end }}
  {{ end }}
</table>

{{ end }}
{{ end }}
